<div class="flex flex-col items-center min-h-screen bg-gray-50 py-8">
  <mat-card class="w-full max-w-xl shadow-lg">
    <mat-card-header>
      <mat-card-title>
        <mat-icon color="primary" class="mr-2">table_chart</mat-icon>
        League Table Viewer
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div
        class="flex flex-col md:flex-row md:space-x-6 space-y-4 md:space-y-0 py-4"
      >
        <!-- Year Selector -->
        <mat-form-field class="flex-1 min-w-[180px]">
          <mat-label>Select Year</mat-label>
          <span matPrefix>
            <mat-icon class="mr-2">calendar_today</mat-icon>
          </span>
          <mat-select
            [(value)]="selectedYear"
            (selectionChange)="onYearChange($event.value)"
          >
            @for (item of years; track item) {
            <mat-option [value]="item">{{ item }}</mat-option>
            } @empty {
            <mat-option [value]="-1">No Values Currently</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <!-- League Selector -->
        @if(leaguesForYear.length > 0) {
        <mat-form-field class="flex-1 min-w-[180px]">
          <mat-label>Select League</mat-label>
          <span matPrefix>
            <mat-icon class="mr-2">sports_soccer</mat-icon>
          </span>
          <mat-select [(value)]="selectedLeague">
            <mat-option *ngFor="let l of leaguesForYear" [value]="l"
              >{{ l }}</mat-option
            >
          </mat-select>
        </mat-form-field>
        }
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Show Table if selection is complete -->
  @if (currentTable) {
  <div class="mt-8 w-full max-w-3xl">
    <app-league-table [leagueTable]="currentTable"></app-league-table>
  </div>
  }
</div>
